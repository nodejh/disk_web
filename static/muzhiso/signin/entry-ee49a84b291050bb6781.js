webpackJsonp([13,33],{0:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var n=a(757),s=i(n);a(762),M.util.addI18n("signin",{"zh-CN":a(765),"zh-TW":a(766)}),$(document).ready(function(){M.util.v(document.getElementsByClassName("js-geetest-captcha")[0],Vue.extend(s["default"])),$("[data-action=switch-overseas-login]").click(function(e){var t=[$(".js-sign-in-container .js-normal"),$(".js-sign-in-container .js-overseas")],a=t[0],i=t[1],n=i.is(":visible");n?($("#session_oversea_mobile_number").tooltip("hide"),a.removeClass("hide"),i.addClass("hide"),$(e.currentTarget).html(i18next.t("signin:oversea_mobile_number")+'<i class="iconfont ic-link"></i>')):($("#session_email_or_mobile_number").tooltip("hide"),a.addClass("hide"),i.removeClass("hide"),$(e.currentTarget).html(i18next.t("signin:mobile_or_email")+'<i class="iconfont ic-link"></i>')),$('input[name="session[oversea]"]').val(!n)}),$("li.js-more-method").click(function(e){$(e.currentTarget).remove(),$("li.js-hide-method").removeClass("hide")}),$("[data-action=choose-country]").siblings("ul").find("li").click(function(e){var t=$(e.currentTarget).data("calling-code"),a=$(e.currentTarget).data("country-code");$(".js-overseas-number>span").html("+"+t+'<i class="iconfont ic-show"></i>'),$("#session_country_code").val(a)}),$("form#new_session").on("focus","#session_email_or_mobile_number,#session_password,#session_oversea_mobile_number",function(e){$(e.currentTarget).tooltip("hide")}),$("form#new_session").on("submit",function(){if("false"===$('input[name="session[oversea]"]').val()){var e=$("#session_email_or_mobile_number");if(0===e.val().length)return M.util.displayInputTooltip(e,i18next.t("signin:email_or_mobile_number")),!1}else{var t=$("#session_oversea_mobile_number");if(0===t.val().length)return M.util.displayInputTooltip(t,i18next.t("signin:oversea_mobile_number_invalid")),!1}var a=$("#session_password");return 0===a.val().length?(M.util.displayInputTooltip(a,i18next.t("signin:password")),!1):"geetest"!==$(".captcha").data("captcha-type")||0!==$('input[name="captcha[validation][validate]"]').val().length&&0!==$('input[name="captcha[validation][seccode]"]').val().length||(M.util.displayInputTooltip($(".captcha"),i18next.t("signin:geetest_validate_empty")),!1)})})},757:function(e,t,a){var i,n;i=a(758);var s=a(761);n=i=i||{},"object"!=typeof i["default"]&&"function"!=typeof i["default"]||(n=i=i["default"]),"function"==typeof n&&(n=n.options),n.render=s.render,n.staticRenderFns=s.staticRenderFns,e.exports=i},758:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),M.util.addI18n("geetest",{"zh-CN":a(759),"zh-TW":a(760)}),t["default"]={name:"GeetestCaptcha",data:function(){return{product:"float",captcha:{},validate:{},geetest:null}},computed:{challenge:function(){return this.validate.geetest_challenge||this.captcha.challenge},canDisplayGeetest:function(){return!!window.Geetest},config:function(){return{challenge:this.captcha.challenge,success:1,gt:this.captcha.gt,product:this.product,lang:"zh-cn",https:!1}}},created:function(){this.canDisplayGeetest&&this.requestCaptcha()},methods:{refreshCaptcha:function(){this.geetest.refresh()},requestCaptcha:function(){var e=this;request.get(Routes.new_captcha_path()).set("Accept","application/json").end(function(t,a){!t&&a.ok&&(e.captcha=a.body,e.initGeetest())})},initGeetest:function(){var e=this;this.geetest=new window.Geetest(this.config),this.geetest.appendTo("#geetest-area"),this.$emit("geetestInitialized"),this.geetest.onSuccess(function(){e.validate=e.geetest.getValidate(),e.$emit("captchaSuccessed")})}}},e.exports=t["default"]},759:function(e,t){e.exports={geetest_exception:"验证码控件异常",look_detail:"请<a href='javascript:window.location.reload()'>刷新网页</a>重试，或<a href='http://www.muzhiso.com/p/3cb4c632dff0' target='_blank'>点击</a>查看详情"}},760:function(e,t){e.exports={geetest_exception:"驗證碼控件異常",look_detail:"請<a href='javascript:window.location.reload()'>刷新網頁</a>重試，或<a href='http://www.muzhiso.com/p/3cb4c632dff0' target='_blank'>點擊</a>查看詳情"}},761:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.canDisplayGeetest?a("div",{staticClass:"captcha"},[a("input",{attrs:{name:"captcha[validation][challenge]",autocomplete:"off",type:"hidden"},domProps:{value:e.challenge}}),e._v(" "),a("input",{attrs:{name:"captcha[validation][gt]",autocomplete:"off",type:"hidden"},domProps:{value:e.captcha.gt}}),e._v(" "),a("input",{attrs:{name:"captcha[validation][validate]",autocomplete:"off",type:"hidden"},domProps:{value:e.validate.geetest_validate}}),e._v(" "),a("input",{attrs:{name:"captcha[validation][seccode]",autocomplete:"off",type:"hidden"},domProps:{value:e.validate.geetest_seccode}}),e._v(" "),a("input",{attrs:{name:"captcha[id]",autocomplete:"off",type:"hidden"},domProps:{value:e.captcha.id}}),e._v(" "),a("div",{staticClass:"geetest",attrs:{id:"geetest-area"}})]):a("div",{staticClass:"slide-error"},[a("i",{staticClass:"iconfont ic-error"}),a("span",[e._v(e._s(e.$t("geetest:geetest_exception")))]),e._v(" "),a("div",{domProps:{innerHTML:e._s(e.$t("geetest:look_detail"))}})])])},staticRenderFns:[]}},762:function(e,t){},765:function(e,t){e.exports={email_or_mobile_number:"请输入手机号或邮箱",oversea_mobile_number_invalid:"请输入手机号",password:"请输入密码",geetest_validate_empty:"请完成滑块验证",oversea_mobile_number:"海外手机号登录",mobile_or_email:"手机/邮箱登录"}},766:function(e,t){e.exports={email_or_mobile_number:"請輸入手機號或郵箱",oversea_mobile_number_invalid:"請輸入手機號",password:"請輸入密碼",geetest_validate_empty:"請完成滑塊驗證",oversea_mobile_number:"海外手機號登錄",mobile_or_email:"手機/郵箱登錄"}}});